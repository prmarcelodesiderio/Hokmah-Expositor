<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <title>Pagamento confirmado | Hokmah Expositor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: radial-gradient(circle at top, #0f172a, #020617);
        color: #e5e7eb;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        background: rgba(15, 23, 42, 0.95);
        border-radius: 18px;
        padding: 32px 28px;
        max-width: 520px;
        width: 100%;
        box-shadow: 0 24px 80px rgba(15, 23, 42, 0.8);
      }
      h1 {
        margin: 0 0 4px;
        font-size: 1.7rem;
        color: #a5b4fc;
      }
      .subtitle {
        margin: 0 0 24px;
        font-size: 0.95rem;
        color: #e5e7eb;
      }
      .status-line {
        margin-top: 12px;
        font-size: 0.9rem;
      }
      .status-ok {
        color: #4ade80;
        font-weight: 600;
      }
      .buttons {
        margin-top: 28px;
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }
      .btn-primary,
      .btn-ghost {
        border-radius: 999px;
        padding: 10px 20px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        border: none;
      }
      .btn-primary {
        background: linear-gradient(135deg, #4f46e5, #22c55e);
        color: white;
      }
      .btn-ghost {
        background: transparent;
        color: #e5e7eb;
        border: 1px solid rgba(148, 163, 184, 0.6);
      }
      .small {
        font-size: 0.8rem;
        color: #9ca3af;
        margin-top: 12px;
      }
    </style>
    <script>
      // >>>>>>> AQUI: URL DO APP NOVO (Cloud Run) <<<<<<<
      const APP_URL =
        "https://hokmah-expositor-gerador-de-esbo-os-de-serm-o-467345148998.us-west1.run.app/";

      window.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("go-to-app");
        const redirectText = document.getElementById("redirect-text");

        let seconds = 3;
        redirectText.textContent = `em até ${seconds} segundos...`;

        const timer = setInterval(() => {
          seconds -= 1;
          if (seconds <= 0) {
            clearInterval(timer);
          }
          redirectText.textContent = `em até ${Math.max(
            seconds,
            0
          )} segundos...`;
        }, 1000);

        // redirecionamento automático com o parâmetro PREMIUM
        setTimeout(() => {
          window.location.href = APP_URL + '?plan=premium';
        }, 3000);

        // botão "Ir para o app agora" também com parâmetro PREMIUM
        btn.addEventListener("click", () => {
          window.location.href = APP_URL + '?plan=premium';
        });
      });
    </script>
  </head>
  <body>
    <main class="card">
      <h1>Pagamento confirmado</h1>
      <p class="subtitle">
        Sua assinatura <strong>Premium</strong> foi ativada. Obrigado por apoiar
        o Hokmah Expositor – que Deus use esse recurso para abençoar muitos
        púlpitos.
      </p>

      <div class="status-line">
        Status: <span class="status-ok">Premium ativo ✅</span>
      </div>
      <div class="status-line">
        Redirecionamento: <span id="redirect-text">em instantes...</span>
      </div>

      <div class="buttons">
        <button id="go-to-app" class="btn-primary">Ir para o app agora</button>
        <button
          type="button"
          class="btn-ghost"
          onclick="window.location.href='/'"
        >
          Voltar para a página inicial
        </button>
      </div>

      <p class="small">
        Se você não for redirecionado automaticamente, clique em
        <strong>“Ir para o app agora”</strong>.
      </p>
    </main>
  </body>
</html>
